"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[995],{2995:(xt,Z,s)=>{s.r(Z),s.d(Z,{AdminModule:()=>Tt});var u=s(6814),N=s(1447),T=s(2032),b=s(4170),h=s(2296),d=s(5195),x=s(1274),m=s(6223),I=s(6385),O=s(6642),L=s(5250),S=s(9862),w=s(4888),f=s(4221),C=s(1024);const B=(0,f.Lq)({email:"",isLoggedIn:!1,error:""},(0,f.on)(C.mp,n=>({...n,isLoggedIn:!0})),(0,f.on)(C.jb,(n,{err:i})=>({...n,error:i})));var t=s(5879),p=s(3905),q=s(8260);let J=(()=>{var n;class i{constructor(e,o){this.adminService=e,this.adminUrl=o}intercept(e,o){if(e.url.startsWith(this.adminUrl.AdminAPIEndPoint)){const r=this.adminService.getAdminToken();if(r){let l=e.clone({setHeaders:{Authorization:`Bearer ${r}`}});return o.handle(l)}}return o.handle(e)}}return(n=i).\u0275fac=function(e){return new(e||n)(t.LFG(p.l),t.LFG(q.g))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),i})();var v=s(2651),k=s(9038),_=s(7700),y=s(2939),D=s(617),c=s(4190),M=function(n){return n.User="UserManagement",n.TurfAdmin="TurfAdminManagement",n.Dashboard="DashboardManagement",n}(M||{});let Y=(()=>{var n;class i{constructor(e,o){this.adminService=e,this.router=o}ngOnInit(){this.currentNavItem=M.Dashboard}onNavItemClicked(){this.router.navigate(["/admin"])}logout(){this.adminService.logout()}}return(n=i).\u0275fac=function(e){return new(e||n)(t.Y36(p.l),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-dashboard"]],decls:29,vars:0,consts:[["color","primary",1,""],["routerLink","admin"],[1,"spacer"],["mat-button",""],["mat-button","",3,"click"],[1,"sidenav-container"],["mode","side","opened",""],["mat-list-item","",1,"nav-link","text-white","bg-black",3,"click"],["mat-list-item","","routerLinkActive","active","routerLink","user-management",1,"nav-link","text-white"],["mat-list-item","","routerLinkActive","active","routerLink","turf-management",1,"nav-link","text-white"],["mat-list-item","","routerLinkActive","active","routerLink","turfAdmin-Management",1,"nav-link","text-white"],["mat-list-item","","routerLinkActive","active","routerLink","sports-Management",1,"nav-link","text-white"],["mat-list-item","","routerLinkActive","active","routerLink","booking-Management",1,"nav-link","text-white"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-toolbar",0)(1,"span",1),t._uU(2,"ADMIN PLAY PERFECT "),t.qZA(),t._UZ(3,"div",2),t.TgZ(4,"a",3),t._uU(5,"Home"),t.qZA(),t.TgZ(6,"a",3),t._uU(7,"About"),t.qZA(),t.TgZ(8,"a",3),t._uU(9,"Contact"),t.qZA(),t.TgZ(10,"a",4),t.NdJ("click",function(){return o.logout()}),t._uU(11,"Logout"),t.qZA()(),t.TgZ(12,"mat-sidenav-container",5)(13,"mat-sidenav",6)(14,"mat-nav-list")(15,"a",7),t.NdJ("click",function(){return o.onNavItemClicked()}),t._uU(16," Dashboard "),t.qZA(),t.TgZ(17,"a",8),t._uU(18," User Managaement "),t.qZA(),t.TgZ(19,"a",9),t._uU(20," Turf Managaement "),t.qZA(),t.TgZ(21,"a",10),t._uU(22," Turf Admin Managaement "),t.qZA(),t.TgZ(23,"a",11),t._uU(24," Sports Management "),t.qZA(),t.TgZ(25,"a",12),t._uU(26," Booking Management "),t.qZA()()(),t.TgZ(27,"mat-sidenav-content"),t._UZ(28,"router-outlet"),t.qZA()())},dependencies:[c.lC,c.rH,c.Od,h.zs,x.Ye,v.JX,v.TM,v.Rh,k.Hk,k.Tg],styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:#6495ed;color:#fff}.mat-button[_ngcontent-%COMP%]{color:#fff}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.sidenav-container[_ngcontent-%COMP%]{height:100%}.mat-sidenav[_ngcontent-%COMP%]{background:#ebedef}mat-nav-list[_ngcontent-%COMP%]{padding:0!important}.nav-link[_ngcontent-%COMP%]{color:#6495ed;background-color:#fff;box-shadow:#3c40434d 0 1px 2px,#3c404326 0 1px 3px 1px}.active[_ngcontent-%COMP%]{background-color:#6495ed;color:#fff;box-shadow:#3c40434d 0 1px 2px,#3c404326 0 1px 3px 1px}"]}),i})();const E=(0,f.ZF)("admin"),Q=(0,f.P1)(E,n=>n.error);var g=s(3814);function G(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Email is required"),t.qZA())}function H(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Enter a valid Email "),t.qZA())}function R(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Password is required"),t.qZA())}function V(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Password must be 8 chaarcaters long "),t.qZA())}function z(n,i){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const a=t.oxw();t.xp6(1),t.Oqu(a.serverError)}}let j=(()=>{var n;class i{constructor(e,o,r,l){this.fb=e,this.store=o,this.adminService=r,this.router=l,this.roleType="Admin"}ngOnInit(){this.adminService.isAdminLoggedIn()&&this.router.navigate(["admin"]),this.store.select(Q).subscribe(e=>{this.serverError=e}),this.loginForm=this.fb.group({email:["",[m.kI.required,m.kI.email]],password:["",[m.kI.required,m.kI.minLength(8)]]})}onSubmit(){this.loginForm.valid&&(this.loginData={email:this.loginForm.get("email")?.value,password:this.loginForm.get("password")?.value},this.store.dispatch((0,C.$g)({adminData:this.loginData})))}}return(n=i).\u0275fac=function(e){return new(e||n)(t.Y36(m.qu),t.Y36(f.yh),t.Y36(p.l),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-login"]],decls:17,vars:6,consts:[["fxLayoutAlign","center center","fxFlexFill","",1,"main-div"],["fxFlex","45",1,"container","box-shadow","mt-5","mb-5"],[1,"text-white","toolbar","mt-5","mb-5"],["fxLayoutAlign","stretch","fxLayout","column",1,"login-form",3,"formGroup","submit"],["appearance","outline"],["matInput","","formControlName","email","placeholder","Email"],[4,"ngIf"],["matInput","","type","password","formControlName","password","placeholder","Password"],["type","submit","mat-raised-button","","color","primary"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-toolbar",2)(3,"span"),t._uU(4," ADMIN LOGIN "),t.qZA()(),t.TgZ(5,"form",3),t.NdJ("submit",function(){return o.onSubmit()}),t.TgZ(6,"mat-form-field",4),t._UZ(7,"input",5),t.YNc(8,G,2,0,"mat-error",6),t.YNc(9,H,2,0,"mat-error",6),t.qZA(),t.TgZ(10,"mat-form-field",4),t._UZ(11,"input",7),t.YNc(12,R,2,0,"mat-error",6),t.YNc(13,V,2,0,"mat-error",6),t.qZA(),t.YNc(14,z,2,1,"mat-error",6),t.TgZ(15,"button",8),t._uU(16," Submit "),t.qZA()()()()),2&e){let r,l,P,U;t.xp6(5),t.Q6J("formGroup",o.loginForm),t.xp6(3),t.Q6J("ngIf",null==(r=o.loginForm.get("email"))?null:r.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==(l=o.loginForm.get("email"))?null:l.hasError("email")),t.xp6(3),t.Q6J("ngIf",null==(P=o.loginForm.get("password"))?null:P.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==(U=o.loginForm.get("password"))?null:U.hasError("minLength")),t.xp6(1),t.Q6J("ngIf",o.serverError)}},dependencies:[u.O5,g.xw,g.Wh,g.s9,g.yH,T.Nt,b.KE,b.TO,h.lW,d.a8,x.Ye,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u],styles:[".main-div[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{padding:0}.login-form[_ngcontent-%COMP%]{padding:20px}.toolbar[_ngcontent-%COMP%]{border-radius:5px;background:#0f0f0f}.box-shadow[_ngcontent-%COMP%]{background-color:#e6dfdf;border-radius:5px;border:1px solid #ccc;box-shadow:#0006 -5px 5px,}"]}),i})(),X=(()=>{var n;class i{constructor(e,o){this.adminService=e,this.router=o}canActivate(e,o){return!!this.adminService.isAdminLoggedIn()||(this.router.navigate(["admin/login"]),!1)}}return(n=i).\u0275fac=function(e){return new(e||n)(t.LFG(p.l),t.LFG(c.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();var W=s(5313),A=s(3091);function K(n,i){if(1&n){const a=t.EpF();t.TgZ(0,"app-table",2),t.NdJ("tableAction",function(o){t.CHM(a);const r=t.oxw();return t.KtG(r.getAction(o))}),t.qZA()}if(2&n){const a=t.oxw();t.Q6J("dataSource",a.userData)("tableConfig",a.columnData)}}let $=(()=>{var n;class i{constructor(e){this.adminService=e,this.userData=new W.by,this.initialized=!1,this.columnData={columns:[{title:"Name",dataProperty:"userName",sortable:!1,filterable:!1},{title:"Email",dataProperty:"email",sortable:!1,filterable:!1},{title:"Phone",dataProperty:"phone",sortable:!1,filterable:!1},{title:"Status",dataProperty:"isBlocked",sortable:!1,filterable:!1},{title:"Action",dataProperty:"actions",sortable:!1,filterable:!1}],rowActions:[{label:"Action",dataProperty:"isBlocked",actionIdtoReturn:""}],rowsPerPage:"3"}}ngOnInit(){this.adminService.getUsersList().subscribe({next:e=>{const o=e.users.map(r=>({userName:r.userName,email:r.email,phone:r.phone,_id:r._id,isBlocked:r.isBlocked?"Blocked":"Active",actions:r.isBlocked?"Unblock":"Block",color:r.isBlocked?"green":"red"}));this.userData=o},error:e=>this.err=e}),this.initialized=!0}getAction(e){this.adminService.blockOrUnblockUser(e._id).subscribe({next:o=>{const r=o.users.map(l=>({userName:l.userName,email:l.email,phone:l.phone,_id:l._id,isBlocked:l.isBlocked?"Blocked":"Active",actions:l.isBlocked?"Unblock":"Block"}));this.userData=r},error:o=>this.err=o})}}return(n=i).\u0275fac=function(e){return new(e||n)(t.Y36(p.l))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-management"]],decls:4,vars:1,consts:[[1,"text-center"],[3,"dataSource","tableConfig","tableAction",4,"ngIf"],[3,"dataSource","tableConfig","tableAction"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"User Management"),t.qZA()(),t.YNc(3,K,1,2,"app-table",1)),2&e&&(t.xp6(3),t.Q6J("ngIf",o.initialized))},dependencies:[u.O5,A.a]}),i})();function tt(n,i){if(1&n){const a=t.EpF();t.TgZ(0,"app-table",2),t.NdJ("tableAction",function(o){t.CHM(a);const r=t.oxw();return t.KtG(r.getTableAction(o))}),t.qZA()}if(2&n){const a=t.oxw();t.Q6J("dataSource",a.turfAdminData)("tableConfig",a.columnData)}}let et=(()=>{var n;class i{constructor(e,o){this.adminService=e,this.router=o,this.initialised=!1,this.columnData={columns:[{title:"Name",dataProperty:"userName",sortable:!1,filterable:!1},{title:"Email",dataProperty:"email",sortable:!1,filterable:!1},{title:"Phone",dataProperty:"phone",sortable:!1,filterable:!1},{title:"Actions",dataProperty:"actions",sortable:!1,filterable:!1}],rowActions:[{label:"Verification",dataProperty:"isVerified",actionIdtoReturn:""}],rowsPerPage:"3"}}ngOnInit(){this.adminService.getTurfAdminsData().subscribe({next:e=>{const o=e.turfAdminData.map(r=>({userName:r.turfAdminName,email:r.email,phone:r.phone,id:r._id,isVerified:r.isVerified?"Verified":"Verify",actions:"View",color:"primary"}));this.turfAdminData=o,this.initialised=!0,console.log(this.turfAdminData,o)},error:e=>{this.error=e}})}getTableAction(e){console.log(e.id," this is event"),this.turfId=e.id,this.router.navigate(["admin/turf-details",this.turfId])}}return(n=i).\u0275fac=function(e){return new(e||n)(t.Y36(p.l),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-turf-admin-management"]],decls:4,vars:1,consts:[[1,"text-center","color-header"],[3,"dataSource","tableConfig","tableAction",4,"ngIf"],[3,"dataSource","tableConfig","tableAction"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Turf Admin Management"),t.qZA()(),t.YNc(3,tt,1,2,"app-table",1)),2&e&&(t.xp6(3),t.Q6J("ngIf",o.initialised))},dependencies:[u.O5,A.a],styles:[".color-header[_ngcontent-%COMP%]{color:#85a1d1}"]}),i})();var nt=s(3633);let ot=(()=>{var n;class i{constructor(e){this.adminService=e,this.weeklySales="",this.monthySales="",this.annualSales="",this.chartLabels=[],this.pieLabels=[],this.pieText="Sports Type Booked",this.chartText="Monthly Revenue"}ngOnInit(){this.adminService.getDashboardDetails().subscribe({next:e=>{console.log(e),this.chartData=e.monthlyBooking.map(o=>Number(o.TotalAmount)),this.chartLabels=e.monthlyBooking.map(o=>o.month),this.pieChartData=e.sportsTypeCount.map(o=>Number(o.count)),this.pieLabels=e.sportsTypeCount.map(o=>o.sports),console.log(this.chartData,this.chartLabels,this.pieChartData,this.pieLabels),this.weeklySales=e.weeklySales,this.monthySales=e.monthlySales,this.annualSales=e.annualSales}})}}return(n=i).\u0275fac=function(e){return new(e||n)(t.Y36(p.l))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-home"]],decls:1,vars:9,consts:[[3,"annualSales","chartData","pieChartData","chartLabels","pieLabels","monthySales","weeklySales","chartText","pieChartText"]],template:function(e,o){1&e&&t._UZ(0,"app-dashboard",0),2&e&&t.Q6J("annualSales",o.annualSales)("chartData",o.chartData)("pieChartData",o.pieChartData)("chartLabels",o.chartLabels)("pieLabels",o.pieLabels)("monthySales",o.monthySales)("weeklySales",o.weeklySales)("chartText",o.chartText)("pieChartText",o.pieText)},dependencies:[nt.M],styles:["#canvas[_ngcontent-%COMP%]{width:100%;height:25%}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;margin-top:3rem}"]}),i})();const at=["sportsDialogOpen"],rt=["userForm"];function it(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Sports name is required"),t.qZA())}function st(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Sports must be 4 characters minimum"),t.qZA())}function lt(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Sports Dimension is required"),t.qZA())}function mt(n,i){if(1&n&&(t.TgZ(0,"mat-error",16),t._uU(1),t.qZA()),2&n){const a=t.oxw(2);t.xp6(1),t.Oqu(a.error)}}function ct(n,i){if(1&n){const a=t.EpF();t.TgZ(0,"div",4)(1,"mat-card",5)(2,"form",6)(3,"h2",7),t._uU(4,"Add Sports"),t.qZA(),t.TgZ(5,"mat-form-field",8),t._UZ(6,"input",9),t.YNc(7,it,2,0,"mat-error",10),t.YNc(8,st,2,0,"mat-error",10),t.qZA(),t.TgZ(9,"mat-form-field",8),t._UZ(10,"textarea",11),t.YNc(11,lt,2,0,"mat-error",10),t.qZA(),t.YNc(12,mt,2,1,"mat-error",12),t.TgZ(13,"mat-dialog-actions",13)(14,"button",14),t.NdJ("click",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.onSubmit())}),t._uU(15," Submit "),t.qZA(),t.TgZ(16,"button",15),t._uU(17,"Cancel"),t.qZA()()()()()}if(2&n){const a=t.oxw();let e,o,r;t.xp6(2),t.Q6J("formGroup",a.sportsForm),t.xp6(5),t.Q6J("ngIf",null==(e=a.sportsForm.get("sportsName"))?null:e.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==(o=a.sportsForm.get("sportsName"))?null:o.hasError("pattern")),t.xp6(3),t.Q6J("ngIf",null==(r=a.sportsForm.get("sportsDimension"))?null:r.hasError("required")),t.xp6(1),t.Q6J("ngIf",a.error)}}let dt=(()=>{var n;class i{constructor(e,o,r,l){this.dialog=e,this.fb=o,this.adminService=r,this.snackbar=l,this.columnData={columns:[{dataProperty:"sportsName",title:"Name of Sports",sortable:!1,filterable:!1},{dataProperty:"sportsDimension",title:"Dimension of Sports",sortable:!1,filterable:!1},{dataProperty:"actions",title:"Actions",sortable:!1,filterable:!1}],rowActions:[{label:"",dataProperty:"",actionIdtoReturn:""}],rowsPerPage:""}}ngOnInit(){this.adminService.getSportsList().subscribe({next:e=>{const o=e.sports.map(r=>({sportsName:r.sportsName,sportsDimension:r.sportsDimensions,actions:"Edit",color:"primary"}));this.availableSports=o},error:e=>{console.log(e)}}),this.sportsData={sportsName:null,sportsDimension:null},this.sportsForm=this.fb.group({sportsName:["",[m.kI.required,m.kI.pattern("^.{4,}$")]],sportsDimension:["",[m.kI.required]]})}sportsDialog(){this.dialogRef=this.dialog.open(this.sportsDialogOpen,{height:"60%",width:"50%"}),this.dialogRef.afterClosed().subscribe({next:e=>{this.sportsData.sportsName=e[0],this.sportsData.sportsDimension=e[1],this.sportsData.sportsDimension&&this.sportsData.sportsName&&this.adminService.addSports(this.sportsData).subscribe({next:o=>{this.snackbar.open("Sports Added successfully","close",{duration:3e3})},error:o=>{this.error=o.error.message,this.snackbar.open(o.error.message,"close",{duration:3e3})}})}})}onSubmit(){if(this.sportsForm.valid){const e=this.sportsForm.value.sportsDimension.split("\n");this.dialogRef.close([this.sportsForm.value.sportsName,e])}else this.error="Enter a valid field"}}return(n=i).\u0275fac=function(e){return new(e||n)(t.Y36(_.uw),t.Y36(m.qu),t.Y36(p.l),t.Y36(y.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sports-management"]],viewQuery:function(e,o){if(1&e&&(t.Gf(at,5),t.Gf(rt,5)),2&e){let r;t.iGM(r=t.CRH())&&(o.sportsDialogOpen=r.first),t.iGM(r=t.CRH())&&(o.userForm=r.first)}},decls:6,vars:2,consts:[[1,"text-center","pb-4","pt-3"],["mat-raised-button","","color","primary",3,"click"],[3,"tableConfig","dataSource"],["sportsDialogOpen",""],["fxLayoutAlign","center center","fxFlexFill","",1,"main-div"],["fxFlex","100",1,"card"],["fxLayoutAlign","stretch","fxLayout","column",3,"formGroup"],["matDialogTitle","",1,"text-center"],["appearance","fill",1,"m-1"],["matInput","","placeholder","Sports Name","formControlName","sportsName"],[4,"ngIf"],["matInput","","placeholder","Sports Dimension","formControlName","sportsDimension"],["class","text-center",4,"ngIf"],[1,"make-center"],["type","submit","mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn","matDialogClose","","type","submit"],[1,"text-center"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.sportsDialog()}),t._uU(2,"Add Sports"),t.qZA()(),t._UZ(3,"app-table",2),t.YNc(4,ct,18,5,"ng-template",null,3,t.W1O)),2&e&&(t.xp6(3),t.Q6J("tableConfig",o.columnData)("dataSource",o.availableSports))},dependencies:[u.O5,A.a,g.xw,g.Wh,g.s9,g.yH,T.Nt,b.KE,b.TO,h.lW,d.a8,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,_.ZT,_.uh,_.H8],styles:[".card[_ngcontent-%COMP%]{width:100%;height:100%}.make-center[_ngcontent-%COMP%]{justify-content:center;align-items:center;justify-items:center}"]}),i})();function pt(n,i){1&n&&(t.ynx(0),t.TgZ(1,"mat-card-actions")(2,"button",5),t._uU(3," Verified "),t.qZA()(),t.BQk())}function ut(n,i){if(1&n){const a=t.EpF();t.TgZ(0,"mat-card-actions",6)(1,"button",7),t.NdJ("click",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.verifyAdmin(o.turfDetails._id))}),t._uU(2,"Verify"),t.qZA()()}}let gt=(()=>{var n;class i{constructor(e,o,r){this.adminService=e,this.route=o,this.snackBar=r,this.turfDetails={turfAdminName:"",phone:"",email:"",isVerified:!1,password:null,_id:""}}ngOnInit(){this.route.paramMap.subscribe(e=>{this.turfId=e.get("turfId")}),this.adminService.getSingleTurf(this.turfId).subscribe({next:e=>{this.turfDetails=e.turfAdmin,console.log(this.turfDetails," this is res form get single turf")},error:e=>{console.log(e," this is error frm single turf")}})}getVerifyId(e){console.log(e," this is turfadmin in event "),this.adminService.verifyTurfAdmin(e.id).subscribe({next:o=>{console.log(o);const r=o.turfAdminData.map(l=>({userName:l.turfAdminName,email:l.email,phone:l.phone,id:l._id,actions:"View"}));this.turfDetails=r,console.log(this.turfDetails,r)},error:o=>{this.error=o}})}verifyAdmin(e){console.log(e," t"),this.adminService.verifyTurfAdmin(e).subscribe({next:o=>{console.log(o),this.snackBar.open("Turf Admin Verified Successfully","close",{duration:3e3}),this.turfDetails=o.turfAdminData},error:o=>{console.log(o),this.error=o}})}}return(n=i).\u0275fac=function(e){return new(e||n)(t.Y36(p.l),t.Y36(c.gz),t.Y36(y.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-turf-details"]],decls:15,vars:5,consts:[[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["color","primary"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["mat-button","","disabled","","color","accent"],[1,"text-center"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header"),t._UZ(2,"div",1),t.TgZ(3,"mat-card-title"),t._uU(4," Turf Admin Verification "),t.qZA()(),t.TgZ(5,"mat-card-content",2)(6,"h3"),t._uU(7),t.qZA(),t.TgZ(8,"h3"),t._uU(9),t.qZA(),t.TgZ(10,"h3"),t._uU(11),t.qZA()(),t.YNc(12,pt,4,0,"ng-container",3),t.YNc(13,ut,3,0,"ng-template",null,4,t.W1O),t.qZA()),2&e){const r=t.MAs(14);t.xp6(7),t.hij("Name :",o.turfDetails.turfAdminName,""),t.xp6(2),t.hij("Email: ",o.turfDetails.email,""),t.xp6(2),t.hij("Mobile: ",o.turfDetails.phone,""),t.xp6(1),t.Q6J("ngIf",o.turfDetails.isVerified)("ngIfElse",r)}},dependencies:[u.O5,h.lW,d.a8,d.hq,d.kc,d.dn,d.dk,d.n5]}),i})(),ft=(()=>{var n;class i{constructor(e,o){this.adminService=e,this.router=o,this.columnData={columns:[{title:"Name",dataProperty:"userName",sortable:!1,filterable:!1},{title:"Turf ",dataProperty:"turfName",sortable:!1,filterable:!1},{title:"Status",dataProperty:"bookingStatus",sortable:!1,filterable:!1},{title:"Price",dataProperty:"price",sortable:!1,filterable:!1},{title:"Action",dataProperty:"actions",sortable:!1,filterable:!1}],rowActions:[{label:"Action",dataProperty:"isBlocked",actionIdtoReturn:""}],rowsPerPage:"3"}}ngOnInit(){this.adminService.getBookingDetails().subscribe({next:e=>{const o=e.bookingDetails.map(r=>({userName:r.user.userName,turfName:r.turf.turfName,bookingStatus:r.bookingStatus,price:r.totalCost,_id:r._id,actions:"View",color:"green"}));this.tableData=o}})}getAction(e){console.log(e),this.router.navigate([`admin/booking-details/${e._id}`])}}return(n=i).\u0275fac=function(e){return new(e||n)(t.Y36(p.l),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bookings-management"]],decls:4,vars:2,consts:[[1,"text-center","text-success"],[3,"dataSource","tableConfig","tableAction"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Bookings Management"),t.qZA()(),t.TgZ(3,"app-table",1),t.NdJ("tableAction",function(l){return o.getAction(l)}),t.qZA()),2&e&&(t.xp6(3),t.Q6J("dataSource",o.tableData)("tableConfig",o.columnData))},dependencies:[A.a]}),i})();var ht=s(7509);const bt=function(n){return{cancel:n}};function _t(n,i){if(1&n&&(t.TgZ(0,"div")(1,"mat-card",4)(2,"h2",5),t._uU(3,"Booking Details"),t.qZA(),t.TgZ(4,"div",6)(5,"div",7)(6,"mat-card-header")(7,"button",8),t._uU(8),t.qZA()(),t.TgZ(9,"mat-card-content")(10,"button",8),t._uU(11," Booked Slot Date : "),t.TgZ(12,"span",9),t._uU(13),t.qZA()(),t.TgZ(14,"button",8),t._uU(15," Booked Slot Time :"),t.TgZ(16,"span",9),t._uU(17),t.qZA()(),t.TgZ(18,"div",10)(19,"button",11),t._uU(20,"Payment Details:"),t.qZA(),t.TgZ(21,"div",12),t._uU(22,"Amount : "),t.TgZ(23,"b"),t._uU(24),t.qZA()(),t.TgZ(25,"div",12),t._uU(26),t.qZA(),t.TgZ(27,"div",12),t._uU(28),t.ALo(29,"date"),t.qZA()()()(),t.TgZ(30,"div",13)(31,"h3",14)(32,"span",15),t._uU(33,"Turf : "),t.qZA(),t.TgZ(34,"span",16)(35,"b"),t._uU(36),t.qZA()()(),t.TgZ(37,"div",17),t._UZ(38,"img",18),t.qZA()()(),t.TgZ(39,"div",19)(40,"button",20),t._uU(41," Booking Status : "),t.TgZ(42,"span",21),t._uU(43),t.qZA()()()()()),2&n){const a=t.oxw();t.xp6(8),t.AsE("Game : ",a.bookingDetails.turf.sportsType," ",a.bookingDetails.turf.sportsDimension," "),t.xp6(5),t.Oqu(a.bookingDetails.bookedSlots.dateString),t.xp6(4),t.AsE(" ",a.bookingDetails.bookedSlots.slots[0].start," - ",a.bookingDetails.bookedSlots.slots[a.bookingDetails.bookedSlots.slots.length-1].end,""),t.xp6(7),t.hij("Rs. ",a.bookingDetails.totalCost," "),t.xp6(2),t.hij("Payment Method : ",a.bookingDetails.paymentType,""),t.xp6(2),t.hij("Booked On :",t.xi3(29,12,a.bookingDetails.Time,"short"),""),t.xp6(8),t.Oqu(a.bookingDetails.turf.turfName),t.xp6(2),t.Q6J("src",a.bookingDetails.turf.turfImages[0],t.LSH),t.xp6(4),t.Q6J("ngClass",t.VKq(15,bt,"Cancelled"==a.bookingDetails.bookingStatus)),t.xp6(1),t.hij(" ",a.bookingDetails.bookingStatus,"")}}const At=[{path:"",component:Y,canActivate:[X],children:[{path:"",component:ot},{path:"user-management",component:$},{path:"turfAdmin-Management",component:et},{path:"turf-details/:turfId",component:gt},{path:"turf-management",component:(()=>{var n;class i{constructor(e){this.adminService=e,this.textColor="blue",this.columnData={columns:[{dataProperty:"turfName",title:"Turf Name",sortable:!1,filterable:!1},{dataProperty:"turfPrice",title:"Price per Hour",sortable:!1,filterable:!1},{dataProperty:"sportsType",title:"Game",sortable:!1,filterable:!1},{dataProperty:"status",title:"Status",sortable:!1,filterable:!1},{dataProperty:"actions",title:"Action",sortable:!1,filterable:!1}],rowActions:[{label:"Block/Unblock",dataProperty:"Block",actionIdtoReturn:""}],rowsPerPage:"4"}}ngOnInit(){this.adminService.getTurfLists().subscribe({next:e=>{console.log(e),this.turfData=e.turfs.map(o=>({turfName:o.turfName,turfPrice:o.turfPrice,turfStatus:o.status,sportsType:o.sportsType,status:o.status,actions:"active"===o.status?"Block":"UnBlock",_id:o._id,color:"active"===o.status?"red":"green"}))}})}getAction(e){console.log(e," this is event"),this.adminService.blockOrunblockTurf(e._id).subscribe({next:o=>{this.turfData=o.turfs.map(r=>({turfName:r.turfName,turfPrice:r.turfPrice,turfStatus:r.status,sportsType:r.sportsType,status:r.status,actions:"active"===r.status?"Block":"UnBlock",_id:r._id,color:"active"===r.status?"red":"green"}))},error:o=>{console.log(o," this is error")}})}}return(n=i).\u0275fac=function(e){return new(e||n)(t.Y36(p.l))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-turf-management"]],decls:3,vars:3,consts:[[1,"text-center","color-header"],[3,"dataSource","tableConfig","textColor","tableAction"]],template:function(e,o){1&e&&(t.TgZ(0,"h2",0),t._uU(1," Turf Management"),t.qZA(),t.TgZ(2,"app-table",1),t.NdJ("tableAction",function(l){return o.getAction(l)}),t.qZA()),2&e&&(t.xp6(2),t.Q6J("dataSource",o.turfData)("tableConfig",o.columnData)("textColor",o.textColor))},dependencies:[A.a],styles:[".color-header[_ngcontent-%COMP%]{color:#85a1d1}"]}),i})()},{path:"sports-Management",component:dt},{path:"booking-Management",component:ft},{path:"booking-details/:bookingId",component:(()=>{var n;class i{constructor(e,o){this.route=e,this.adminService=o,this.bookingId="",this.isInitialised=!1,this.error=""}ngOnInit(){this.route.paramMap.subscribe(e=>{this.bookingId=e.get("bookingId")}),this.adminService.getSingleBooking(this.bookingId).subscribe({next:e=>{console.log(e),this.bookingDetails=e.bookings},error:e=>{console.log(e," error from single booking details "),this.error="Something error occured please try again"}})}}return(n=i).\u0275fac=function(e){return new(e||n)(t.Y36(c.gz),t.Y36(p.l))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-single-booking-details"]],decls:7,vars:1,consts:[[1,"m-3"],["mat-raised-button","","color","primary","routerLink","/admin/booking-Management"],[1,"text-center","text-success"],[4,"ngIf"],[1,"example-card"],[1,"text-center"],[1,"card-content"],[1,"left-side"],["mat-raised-button","","disabled","",1,"button-width"],[1,"text-success"],[1,"payment-container"],["disabled","","mat-raised-button","",1,"button-width","mb-1"],[1,"m-4"],[1,"right-side"],[1,"mb-5","text-center"],[1,"text-black","mb-1"],[1,"text-success","mb-1"],[1,"image-div"],["mat-card-image","","alt","Photo of turf",3,"src"],[1,"text-center","m-3"],["disabled","","mat-raised-button","",1,"bg-sucess"],[1,"text-success",3,"ngClass"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"button",1)(2,"mat-icon"),t._uU(3,"arrow_back"),t.qZA(),t._uU(4," Back to Booking Management"),t.qZA()(),t._UZ(5,"div",2),t.YNc(6,_t,44,17,"div",3)),2&e&&(t.xp6(6),t.Q6J("ngIf",o.bookingDetails))},dependencies:[u.mk,u.O5,c.rH,ht.oO,h.lW,d.a8,d.dn,d.dk,d.G2,D.Hw,u.uU],styles:[".example-card[_ngcontent-%COMP%]{display:flex;border-radius:2%;border:solid #2FB563 2px}.image-div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;box-shadow:0 0 10px #2fb56380;border-radius:20%}.image-div[_ngcontent-%COMP%]{padding-bottom:1rem;max-width:100%}h3[_ngcontent-%COMP%]{margin-bottom:0%}.example-header-image[_ngcontent-%COMP%]{background-size:cover}.cancel[_ngcontent-%COMP%]{color:#f23d3d!important}.button-width[_ngcontent-%COMP%]{width:100%;border-radius:0%!important;color:#000}.card-content[_ngcontent-%COMP%]{display:flex}.left-side[_ngcontent-%COMP%]{max-width:50%;flex:1;padding:1rem}.right-side[_ngcontent-%COMP%]{max-width:50%;padding:2rem}.cancel-button[_ngcontent-%COMP%]{background-color:#e44848!important;color:#fff!important;border:solid #000000 2px}.cancel-button[_ngcontent-%COMP%]:hover{background-color:#fff!important;color:red!important;border:solid red 2px}.change-button[_ngcontent-%COMP%]{background-color:#2b5897!important;color:#fff!important;border:solid rgb(0,0,0) 2px;margin-right:1rem}.change-button[_ngcontent-%COMP%]:hover{background-color:#fff!important;color:#2b5897!important;border:solid rgb(43,88,151) 2px;margin-right:1rem}.payment-container[_ngcontent-%COMP%]{margin-top:2em;border-radius:2%;box-sizing:border-box}.play-icon[_ngcontent-%COMP%], .color[_ngcontent-%COMP%]{color:#2fb563}.dup-nav[_ngcontent-%COMP%]{padding-bottom:2rem;margin-top:2rem;border-bottom:solid black 3px}h1.play-icon[_ngcontent-%COMP%]{margin-bottom:0}.mat-icon-button[_ngcontent-%COMP%]:click{background:transparent!important;border:none!important}.mat-icon-button[_ngcontent-%COMP%]:focus{background:transparent!important;border:none!important}"]}),i})()}]},{path:"login",component:j}];let vt=(()=>{var n;class i{}return(n=i).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.Bz.forChild(At),c.Bz]}),i})(),Tt=(()=>{var n;class i{}return(n=i).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[w.I,{provide:S.TP,useClass:J,multi:!0},p.l],imports:[u.ez,L.m,S.JF,vt,f.Aw.forFeature("admin",B),N.o9,T.c,b.lN,h.ot,d.QW,I.t,x.g0,m.UX,O.Xz,c.Bz,v.SJ,k.ie,_.Is,y.ZX,D.Ps]}),i})()}}]);