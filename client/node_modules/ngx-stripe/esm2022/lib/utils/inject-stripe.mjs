import { inject } from '@angular/core';
import { STRIPE_PUBLISHABLE_KEY } from '../interfaces/ngx-stripe.interface';
import { StripeFactoryService } from '../services/stripe-factory.service';
import { StripeService } from '../services/stripe.service';
export function injectStripe(publishableKey, options) {
    if (publishableKey) {
        const factory = inject(StripeFactoryService);
        return factory.create(publishableKey, options);
    }
    else if (inject(STRIPE_PUBLISHABLE_KEY)) {
        return inject(StripeService);
    }
    throw new Error('Publishable Key is required either global or pass as parameter');
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5qZWN0LXN0cmlwZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1zdHJpcGUvc3JjL2xpYi91dGlscy9pbmplY3Qtc3RyaXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFJdkMsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sb0NBQW9DLENBQUM7QUFHNUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sb0NBQW9DLENBQUM7QUFDMUUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBRTNELE1BQU0sVUFBVSxZQUFZLENBQUMsY0FBdUIsRUFBRSxPQUFrQztJQUN0RixJQUFJLGNBQWMsRUFBRTtRQUNsQixNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUM3QyxPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsY0FBYyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0tBQ2hEO1NBQU0sSUFBSSxNQUFNLENBQUMsc0JBQXNCLENBQUMsRUFBRTtRQUN6QyxPQUFPLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztLQUM5QjtJQUVELE1BQU0sSUFBSSxLQUFLLENBQUMsZ0VBQWdFLENBQUMsQ0FBQztBQUNwRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5qZWN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IFN0cmlwZUNvbnN0cnVjdG9yT3B0aW9ucyB9IGZyb20gJ0BzdHJpcGUvc3RyaXBlLWpzJztcblxuaW1wb3J0IHsgU1RSSVBFX1BVQkxJU0hBQkxFX0tFWSB9IGZyb20gJy4uL2ludGVyZmFjZXMvbmd4LXN0cmlwZS5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgU3RyaXBlU2VydmljZUludGVyZmFjZSB9IGZyb20gJy4uL2ludGVyZmFjZXMvc3RyaXBlLWluc3RhbmNlLmludGVyZmFjZSc7XG5cbmltcG9ydCB7IFN0cmlwZUZhY3RvcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvc3RyaXBlLWZhY3Rvcnkuc2VydmljZSc7XG5pbXBvcnQgeyBTdHJpcGVTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvc3RyaXBlLnNlcnZpY2UnO1xuXG5leHBvcnQgZnVuY3Rpb24gaW5qZWN0U3RyaXBlKHB1Ymxpc2hhYmxlS2V5Pzogc3RyaW5nLCBvcHRpb25zPzogU3RyaXBlQ29uc3RydWN0b3JPcHRpb25zKTogU3RyaXBlU2VydmljZUludGVyZmFjZSB7XG4gIGlmIChwdWJsaXNoYWJsZUtleSkge1xuICAgIGNvbnN0IGZhY3RvcnkgPSBpbmplY3QoU3RyaXBlRmFjdG9yeVNlcnZpY2UpO1xuICAgIHJldHVybiBmYWN0b3J5LmNyZWF0ZShwdWJsaXNoYWJsZUtleSwgb3B0aW9ucyk7XG4gIH0gZWxzZSBpZiAoaW5qZWN0KFNUUklQRV9QVUJMSVNIQUJMRV9LRVkpKSB7XG4gICAgcmV0dXJuIGluamVjdChTdHJpcGVTZXJ2aWNlKTtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcignUHVibGlzaGFibGUgS2V5IGlzIHJlcXVpcmVkIGVpdGhlciBnbG9iYWwgb3IgcGFzcyBhcyBwYXJhbWV0ZXInKTtcbn1cbiJdfQ==